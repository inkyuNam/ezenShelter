<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

    <mapper namespace="com.ezen.p2.dao.IShopDao">
    
    	<select id="getHotlist" resultType="com.ezen.p2.dto.ProductVO">
    		select * from hotlist
    	</select>
    
    	<select id="getProductList" resultType="com.ezen.p2.dto.ProductVO">
    		select * from product2 where kind = #{param1}
    	</select>
    	
    	<!-- 만약 사료랑 간식 외에 다른 종류도 넣은 후에 분류를 하려면 kind like "1%" 이런식으로 
    			0으로 시작하는것 / 1로 시작하는거 / 2로 시작하는거 로 나눈다음에 세부는 01 / 02 로  -->
    			
    	<select id="getProductOne" resultType="com.ezen.p2.dto.ProductVO">
    		select * from product2 where pseq = #{param1}
    	</select>
    			
    	
    	<select id="getProductReview" resultType="com.ezen.p2.dto.ProductReviewVO">
    		select * from productreview where pseq = #{param1} order by indate desc
    	</select>
    	
    	<insert id="insertCart" parameterType="com.ezen.p2.dto.CartVO">
    		insert into cart(cseq,id,quantity,pseq) values(cart_seq.nextVal,#{id},#{quantity},#{pseq})
    	</insert>
    	
    	<select id="getCartList" resultType="com.ezen.p2.dto.CartVO">
    		select * from cart_view where id = #{param1}
    	</select>
    	
    	<delete id="deleteCart">
    		delete from cart where cseq = #{param1}
    	</delete>
    	
    	<select id="getCartOne" resultType="com.ezen.p2.dto.CartVO">
    		select * from cart_view where cseq = #{param1}
    	</select>
    	
    	<insert id="addOrder">
    		insert into orders2(oseq, id, name, phone, address1, address2) values( orders_seq.nextVal , #{param1}, #{param2}, #{param3}, #{param4}, #{param5})
    		
    	</insert>
    	
    	<insert id="addOrderDetail">
    		{ CALL addOrderDetail (#{param1}, #{param2} )	}
    	</insert>
    			
    </mapper>